"use strict";(self["webpackChunkvue_shopping"]=self["webpackChunkvue_shopping"]||[]).push([[458],{6458:function(t,s,e){e.r(s),e.d(s,{default:function(){return d}});e(7658);var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"search"},[s("van-nav-bar",{attrs:{fixed:"",title:"商品列表","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("van-search",{attrs:{readonly:"",shape:"round",background:"#ffffff",value:t.querySearch||"搜索商品","show-action":""},on:{click:function(s){return t.$router.push("/search")}},scopedSlots:t._u([{key:"action",fn:function(){return[s("van-icon",{staticClass:"tool",attrs:{name:"apps-o"},on:{click:function(s){return t.$router.push("/category")}}})]},proxy:!0}])}),s("br"),s("br"),s("br"),s("div",{staticClass:"sort-btns"},[s("div",{staticClass:"sort-item"},[t._v("综合")]),s("div",{staticClass:"sort-item",on:{click:function(s){return t.changeSales()}}},[t._v("销量")]),s("div",{staticClass:"sort-item"},[t._v("价格 ")])]),s("div",{staticClass:"goods-list"},t._l(t.proList,(function(t){return s("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),1)],1)},r=[],o=e(1787),n=e(9893),i={name:"SearchIndex",components:{GoodsItem:n.Z},computed:{querySearch(){return this.$route.query.search}},data(){return{page:1,proList:[]}},async created(){const t=await o.Z.searchlist({categoryId:this.$route.query.categoryId,goodsName:this.querySearch,page:this.page});console.log(t),this.proList=t.data.list.data},methods:{async changeSales(){const t=await o.Z.searchlist({sortType:"sales",goodsName:this.querySearch,page:this.page});this.proList=t.data.list.data}}},c=i,u=e(1001),l=(0,u.Z)(c,a,r,!1,null,"4745b822",null),d=l.exports},1787:function(t,s,e){var a=e(4471);s.Z={searchlist(t){const{sortType:s,sortPrice:e,categoryId:r,goodsName:o,page:n}=t;return a.Z.get("/goods/list",{params:{sortType:s,sortPrice:e,categoryId:r,goodsName:o,page:n}})},getProDetail(t){return a.Z.get("/goods/detail",{params:{goodsId:t}})},getComments(t,s){return a.Z.get("/comment/listRows",{params:{goodsId:t,limit:s}})}}}}]);
//# sourceMappingURL=458.04337693.js.map